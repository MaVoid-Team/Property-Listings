{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/nerdawy/Property-Listing-Abo-Hedeya/Frontend/lib/api/client.ts"],"sourcesContent":["// Centralized API client for Rails backend\nconst API_BASE = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3000';\n\nexport interface ApiResponse<T = unknown> {\n  data?: T;\n  error?: string;\n  errors?: string[];\n}\n\nexport class ApiError extends Error {\n  status: number;\n  \n  constructor(message: string, status: number) {\n    super(message);\n    this.status = status;\n    this.name = 'ApiError';\n  }\n}\n\n// Get auth token from localStorage (client-side only)\nfunction getAuthToken(): string | null {\n  if (typeof window === 'undefined') return null;\n  return localStorage.getItem('adminToken');\n}\n\n// Save auth token to localStorage\nexport function setAuthToken(token: string): void {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('adminToken', token);\n  }\n}\n\n// Remove auth token from localStorage\nexport function clearAuthToken(): void {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('adminToken');\n    localStorage.removeItem('adminEmail');\n  }\n}\n\n// Check if user is authenticated\nexport function isAuthenticated(): boolean {\n  return !!getAuthToken();\n}\n\n// Main API client function\nexport async function apiClient<T = unknown>(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<T> {\n  const token = getAuthToken();\n  \n  const headers: HeadersInit = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    ...options.headers,\n  };\n  \n  if (token) {\n    (headers as Record<string, string>)['Authorization'] = `Bearer ${token}`;\n  }\n  \n  const url = `${API_BASE}${endpoint}`;\n  \n  const response = await fetch(url, {\n    ...options,\n    headers,\n  });\n  \n  // Handle JWT token from response header (for login)\n  const authHeader = response.headers.get('Authorization');\n  if (authHeader && authHeader.startsWith('Bearer ')) {\n    const newToken = authHeader.replace('Bearer ', '');\n    setAuthToken(newToken);\n  }\n  \n  // Handle empty responses (204 No Content)\n  if (response.status === 204) {\n    return {} as T;\n  }\n  \n  const data = await response.json();\n  \n  if (!response.ok) {\n    const errorMessage = data.error || data.errors?.join(', ') || data.message || 'An error occurred';\n    throw new ApiError(errorMessage, response.status);\n  }\n  \n  return data as T;\n}\n\n// Convenience methods\nexport const api = {\n  get: <T = unknown>(endpoint: string) => \n    apiClient<T>(endpoint, { method: 'GET' }),\n  \n  post: <T = unknown>(endpoint: string, body?: unknown) =>\n    apiClient<T>(endpoint, {\n      method: 'POST',\n      body: body ? JSON.stringify(body) : undefined,\n    }),\n  \n  put: <T = unknown>(endpoint: string, body?: unknown) =>\n    apiClient<T>(endpoint, {\n      method: 'PUT',\n      body: body ? JSON.stringify(body) : undefined,\n    }),\n  \n  patch: <T = unknown>(endpoint: string, body?: unknown) =>\n    apiClient<T>(endpoint, {\n      method: 'PATCH',\n      body: body ? JSON.stringify(body) : undefined,\n    }),\n  \n  delete: <T = unknown>(endpoint: string) =>\n    apiClient<T>(endpoint, { method: 'DELETE' }),\n};\n\n// Upload file with multipart form data\nexport async function uploadFile(\n  endpoint: string,\n  file: File,\n  additionalFields?: Record<string, string>\n): Promise<unknown> {\n  const token = getAuthToken();\n  const formData = new FormData();\n  formData.append('image', file);\n  \n  if (additionalFields) {\n    Object.entries(additionalFields).forEach(([key, value]) => {\n      formData.append(key, value);\n    });\n  }\n  \n  const headers: HeadersInit = {};\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n  \n  const response = await fetch(`${API_BASE}${endpoint}`, {\n    method: 'POST',\n    headers,\n    body: formData,\n  });\n  \n  if (!response.ok) {\n    const data = await response.json();\n    throw new ApiError(data.error || 'Upload failed', response.status);\n  }\n  \n  return response.json();\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":["file:///home/nerdawy/Property-Listing-Abo-Hedeya/Frontend/lib/api/inquiries.ts"],"sourcesContent":["// Inquiries API functions\nimport { api } from './client';\nimport type { Inquiry } from '../types';\n\nexport interface CreateInquiryData {\n  property_id: string;\n  name: string;\n  email: string;\n  phone?: string;\n  message?: string;\n}\n\n// Get all inquiries (admin only)\nexport async function getInquiries(): Promise<Inquiry[]> {\n  return api.get<Inquiry[]>('/api/v1/inquiries');\n}\n\n// Get a single inquiry by ID (admin only)\nexport async function getInquiry(id: string): Promise<Inquiry> {\n  return api.get<Inquiry>(`/api/v1/inquiries/${id}`);\n}\n\n// Create a new inquiry (public)\nexport async function createInquiry(data: CreateInquiryData): Promise<Inquiry> {\n  return api.post<Inquiry>('/api/v1/inquiries', { inquiry: data });\n}\n\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;;;AAC1B;;AAYO,eAAe;IACpB,OAAO,8HAAG,CAAC,GAAG,CAAY;AAC5B;AAGO,eAAe,WAAW,EAAU;IACzC,OAAO,8HAAG,CAAC,GAAG,CAAU,CAAC,kBAAkB,EAAE,IAAI;AACnD;AAGO,eAAe,cAAc,IAAuB;IACzD,OAAO,8HAAG,CAAC,IAAI,CAAU,qBAAqB;QAAE,SAAS;IAAK;AAChE"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///home/nerdawy/Property-Listing-Abo-Hedeya/Frontend/components/inquiry-form.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\nimport { Mail, Phone, User } from \"lucide-react\"\nimport { createInquiry } from \"@/lib/api/inquiries\"\nimport { ApiError } from \"@/lib/api/client\"\n\ninterface InquiryFormProps {\n  propertyId: string\n  propertyTitle: string\n}\n\nexport function InquiryForm({ propertyId, propertyTitle }: InquiryFormProps) {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    message: \"\",\n  })\n  const [submitted, setSubmitted] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(\"\")\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(\"\")\n\n    try {\n      await createInquiry({\n        property_id: propertyId,\n        name: formData.name,\n        email: formData.email,\n        phone: formData.phone || undefined,\n        message: formData.message || undefined,\n      })\n\n      setSubmitted(true)\n      setFormData({ name: \"\", email: \"\", phone: \"\", message: \"\" })\n      setTimeout(() => setSubmitted(false), 3000)\n    } catch (err) {\n      if (err instanceof ApiError) {\n        setError(err.message)\n      } else {\n        setError(\"Failed to submit inquiry. Please try again.\")\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    const { name, value } = e.target\n    setFormData((prev) => ({ ...prev, [name]: value }))\n  }\n\n  if (submitted) {\n    return (\n      <div className=\"text-center py-8\">\n        <div className=\"text-accent mb-2\">âœ“</div>\n        <p className=\"text-foreground font-semibold mb-2\">Inquiry Submitted!</p>\n        <p className=\"text-muted-foreground text-sm\">We will contact you shortly about this property.</p>\n      </div>\n    )\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      {error && <div className=\"bg-destructive/10 text-destructive text-sm p-3 rounded-lg\">{error}</div>}\n\n      <div className=\"relative\">\n        <User className=\"absolute left-3 top-3.5 w-4 h-4 text-muted-foreground\" />\n        <input\n          type=\"text\"\n          name=\"name\"\n          placeholder=\"Your name\"\n          required\n          value={formData.name}\n          onChange={handleChange}\n          className=\"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground outline-none focus:ring-2 focus:ring-primary\"\n        />\n      </div>\n\n      <div className=\"relative\">\n        <Mail className=\"absolute left-3 top-3.5 w-4 h-4 text-muted-foreground\" />\n        <input\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Your email\"\n          required\n          value={formData.email}\n          onChange={handleChange}\n          className=\"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground outline-none focus:ring-2 focus:ring-primary\"\n        />\n      </div>\n\n      <div className=\"relative\">\n        <Phone className=\"absolute left-3 top-3.5 w-4 h-4 text-muted-foreground\" />\n        <input\n          type=\"tel\"\n          name=\"phone\"\n          placeholder=\"Your phone (optional)\"\n          value={formData.phone}\n          onChange={handleChange}\n          className=\"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground outline-none focus:ring-2 focus:ring-primary\"\n        />\n      </div>\n\n      <textarea\n        name=\"message\"\n        placeholder=\"Tell us more about your interest...\"\n        value={formData.message}\n        onChange={handleChange}\n        rows={4}\n        className=\"w-full px-4 py-2 border border-border rounded-lg bg-background text-foreground placeholder:text-muted-foreground outline-none focus:ring-2 focus:ring-primary resize-none\"\n      />\n\n      <button\n        type=\"submit\"\n        disabled={loading}\n        className=\"w-full bg-primary text-primary-foreground py-2 rounded-lg font-semibold hover:bg-primary/90 transition disabled:opacity-50\"\n      >\n        {loading ? \"Submitting...\" : \"Send Inquiry\"}\n      </button>\n\n      <p className=\"text-xs text-muted-foreground text-center\">\n        We respect your privacy. Your information is safe with us.\n      </p>\n    </form>\n  )\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AAAA;AAAA;AACA;AACA;;;AAPA;;;;;AAcO,SAAS,YAAY,EAAE,UAAU,EAAE,aAAa,EAAoB;;IACzE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;QACvC,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;IACX;IACA,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,IAAA,2IAAa,EAAC;gBAClB,aAAa;gBACb,MAAM,SAAS,IAAI;gBACnB,OAAO,SAAS,KAAK;gBACrB,OAAO,SAAS,KAAK,IAAI;gBACzB,SAAS,SAAS,OAAO,IAAI;YAC/B;YAEA,aAAa;YACb,YAAY;gBAAE,MAAM;gBAAI,OAAO;gBAAI,OAAO;gBAAI,SAAS;YAAG;YAC1D,WAAW,IAAM,aAAa,QAAQ;QACxC,EAAE,OAAO,KAAK;YACZ,IAAI,eAAe,mIAAQ,EAAE;gBAC3B,SAAS,IAAI,OAAO;YACtB,OAAO;gBACL,SAAS;YACX;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAC,OAAS,CAAC;gBAAE,GAAG,IAAI;gBAAE,CAAC,KAAK,EAAE;YAAM,CAAC;IACnD;IAEA,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;8BAAmB;;;;;;8BAClC,6LAAC;oBAAE,WAAU;8BAAqC;;;;;;8BAClD,6LAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;;IAGnD;IAEA,qBACE,6LAAC;QAAK,UAAU;QAAc,WAAU;;YACrC,uBAAS,6LAAC;gBAAI,WAAU;0BAA6D;;;;;;0BAEtF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6MAAI;wBAAC,WAAU;;;;;;kCAChB,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,QAAQ;wBACR,OAAO,SAAS,IAAI;wBACpB,UAAU;wBACV,WAAU;;;;;;;;;;;;0BAId,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,6MAAI;wBAAC,WAAU;;;;;;kCAChB,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,QAAQ;wBACR,OAAO,SAAS,KAAK;wBACrB,UAAU;wBACV,WAAU;;;;;;;;;;;;0BAId,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,gNAAK;wBAAC,WAAU;;;;;;kCACjB,6LAAC;wBACC,MAAK;wBACL,MAAK;wBACL,aAAY;wBACZ,OAAO,SAAS,KAAK;wBACrB,UAAU;wBACV,WAAU;;;;;;;;;;;;0BAId,6LAAC;gBACC,MAAK;gBACL,aAAY;gBACZ,OAAO,SAAS,OAAO;gBACvB,UAAU;gBACV,MAAM;gBACN,WAAU;;;;;;0BAGZ,6LAAC;gBACC,MAAK;gBACL,UAAU;gBACV,WAAU;0BAET,UAAU,kBAAkB;;;;;;0BAG/B,6LAAC;gBAAE,WAAU;0BAA4C;;;;;;;;;;;;AAK/D;GAtHgB;KAAA"}},
    {"offset": {"line": 410, "column": 0}, "map": {"version":3,"sources":["file:///home/nerdawy/Property-Listing-Abo-Hedeya/Frontend/lib/api/properties.ts"],"sourcesContent":["// Properties API functions\nimport { api, uploadFile } from './client';\nimport type { Property, PropertyImage } from '../types';\n\nexport interface PropertyWithImages extends Property {\n  property_images: PropertyImage[];\n}\n\nexport interface PropertiesFilters {\n  available?: boolean;\n  featured?: boolean;\n  property_type?: string;\n  location?: string;\n  min_price?: number;\n  max_price?: number;\n}\n\nexport interface CreatePropertyData {\n  title: string;\n  description?: string;\n  address: string;\n  price: number;\n  bedrooms?: number;\n  bathrooms?: number;\n  area?: number;\n  property_type: string;\n  status?: string;\n  featured?: boolean;\n  category_id?: string;\n}\n\n// Build query string from filters\nfunction buildQueryString(filters: PropertiesFilters): string {\n  const params = new URLSearchParams();\n  \n  if (filters.available) params.append('available', 'true');\n  if (filters.featured) params.append('featured', 'true');\n  if (filters.property_type) params.append('property_type', filters.property_type);\n  if (filters.location) params.append('location', filters.location);\n  if (filters.min_price) params.append('min_price', filters.min_price.toString());\n  if (filters.max_price) params.append('max_price', filters.max_price.toString());\n  \n  const queryString = params.toString();\n  return queryString ? `?${queryString}` : '';\n}\n\n// Get all properties with optional filters\nexport async function getProperties(filters: PropertiesFilters = {}): Promise<PropertyWithImages[]> {\n  const queryString = buildQueryString(filters);\n  return api.get<PropertyWithImages[]>(`/api/v1/properties${queryString}`);\n}\n\n// Get a single property by ID\nexport async function getProperty(id: string): Promise<PropertyWithImages> {\n  return api.get<PropertyWithImages>(`/api/v1/properties/${id}`);\n}\n\n// Create a new property\nexport async function createProperty(data: CreatePropertyData): Promise<Property> {\n  return api.post<Property>('/api/v1/properties', { property: data });\n}\n\n// Update an existing property\nexport async function updateProperty(id: string, data: Partial<CreatePropertyData>): Promise<Property> {\n  return api.patch<Property>(`/api/v1/properties/${id}`, { property: data });\n}\n\n// Delete a property\nexport async function deleteProperty(id: string): Promise<void> {\n  await api.delete(`/api/v1/properties/${id}`);\n}\n\n// Upload an image for a property\nexport async function uploadPropertyImage(\n  propertyId: string, \n  file: File, \n  isPrimary: boolean = false\n): Promise<PropertyImage> {\n  return uploadFile(\n    `/api/v1/properties/${propertyId}/images`,\n    file,\n    { is_primary: isPrimary ? 'true' : 'false' }\n  ) as Promise<PropertyImage>;\n}\n\n// Delete a property image\nexport async function deletePropertyImage(imageId: string): Promise<void> {\n  await api.delete(`/api/v1/property_images/${imageId}`);\n}\n\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;;;;;;;;;;;;AAC3B;;AA8BA,kCAAkC;AAClC,SAAS,iBAAiB,OAA0B;IAClD,MAAM,SAAS,IAAI;IAEnB,IAAI,QAAQ,SAAS,EAAE,OAAO,MAAM,CAAC,aAAa;IAClD,IAAI,QAAQ,QAAQ,EAAE,OAAO,MAAM,CAAC,YAAY;IAChD,IAAI,QAAQ,aAAa,EAAE,OAAO,MAAM,CAAC,iBAAiB,QAAQ,aAAa;IAC/E,IAAI,QAAQ,QAAQ,EAAE,OAAO,MAAM,CAAC,YAAY,QAAQ,QAAQ;IAChE,IAAI,QAAQ,SAAS,EAAE,OAAO,MAAM,CAAC,aAAa,QAAQ,SAAS,CAAC,QAAQ;IAC5E,IAAI,QAAQ,SAAS,EAAE,OAAO,MAAM,CAAC,aAAa,QAAQ,SAAS,CAAC,QAAQ;IAE5E,MAAM,cAAc,OAAO,QAAQ;IACnC,OAAO,cAAc,CAAC,CAAC,EAAE,aAAa,GAAG;AAC3C;AAGO,eAAe,cAAc,UAA6B,CAAC,CAAC;IACjE,MAAM,cAAc,iBAAiB;IACrC,OAAO,8HAAG,CAAC,GAAG,CAAuB,CAAC,kBAAkB,EAAE,aAAa;AACzE;AAGO,eAAe,YAAY,EAAU;IAC1C,OAAO,8HAAG,CAAC,GAAG,CAAqB,CAAC,mBAAmB,EAAE,IAAI;AAC/D;AAGO,eAAe,eAAe,IAAwB;IAC3D,OAAO,8HAAG,CAAC,IAAI,CAAW,sBAAsB;QAAE,UAAU;IAAK;AACnE;AAGO,eAAe,eAAe,EAAU,EAAE,IAAiC;IAChF,OAAO,8HAAG,CAAC,KAAK,CAAW,CAAC,mBAAmB,EAAE,IAAI,EAAE;QAAE,UAAU;IAAK;AAC1E;AAGO,eAAe,eAAe,EAAU;IAC7C,MAAM,8HAAG,CAAC,MAAM,CAAC,CAAC,mBAAmB,EAAE,IAAI;AAC7C;AAGO,eAAe,oBACpB,UAAkB,EAClB,IAAU,EACV,YAAqB,KAAK;IAE1B,OAAO,IAAA,qIAAU,EACf,CAAC,mBAAmB,EAAE,WAAW,OAAO,CAAC,EACzC,MACA;QAAE,YAAY,YAAY,SAAS;IAAQ;AAE/C;AAGO,eAAe,oBAAoB,OAAe;IACvD,MAAM,8HAAG,CAAC,MAAM,CAAC,CAAC,wBAAwB,EAAE,SAAS;AACvD"}},
    {"offset": {"line": 476, "column": 0}, "map": {"version":3,"sources":["file:///home/nerdawy/Property-Listing-Abo-Hedeya/Frontend/app/properties/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useParams, notFound } from \"next/navigation\"\nimport Image from \"next/image\"\nimport { Bed, Bath, Ruler as Ruler2, MapPin, Loader2 } from \"lucide-react\"\nimport { InquiryForm } from \"@/components/inquiry-form\"\nimport { getProperty, type PropertyWithImages } from \"@/lib/api/properties\"\n\nexport default function PropertyPage() {\n  const params = useParams()\n  const propertyId = params.id as string\n  \n  const [property, setProperty] = useState<PropertyWithImages | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(false)\n\n  useEffect(() => {\n    const fetchProperty = async () => {\n      try {\n        const data = await getProperty(propertyId)\n        setProperty(data)\n      } catch (err) {\n        console.error(\"Error fetching property:\", err)\n        setError(true)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchProperty()\n  }, [propertyId])\n\n  if (loading) {\n    return (\n      <main className=\"min-h-screen bg-background flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n      </main>\n    )\n  }\n\n  if (error || !property) {\n    return (\n      <main className=\"min-h-screen bg-background\">\n        <div className=\"max-w-6xl mx-auto px-4 py-12 text-center\">\n          <h1 className=\"text-2xl font-bold text-foreground mb-4\">Property not found</h1>\n          <a href=\"/properties\" className=\"text-primary hover:underline\">\n            Back to properties\n          </a>\n        </div>\n      </main>\n    )\n  }\n\n  const primaryImage = property.property_images?.find(img => img.is_primary) || property.property_images?.[0]\n  const mainImageUrl = primaryImage?.blob_url || primaryImage?.image_url || \"/placeholder.svg?height=600&width=1000\"\n\n  return (\n    <main className=\"min-h-screen bg-background\">\n      {/* Image Gallery */}\n      <div className=\"relative w-full h-96 md:h-[600px] bg-muted overflow-hidden\">\n        <Image src={mainImageUrl || \"/placeholder.svg\"} alt={property.title} fill className=\"object-cover\" priority />\n      </div>\n\n      <div className=\"max-w-6xl mx-auto px-4 py-12\">\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-12\">\n          {/* Property Details */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"mb-8\">\n              <p className=\"text-accent text-sm font-semibold uppercase tracking-wide mb-2\">{property.property_type}</p>\n              <h1 className=\"text-4xl font-bold text-foreground mb-4 text-balance\">{property.title}</h1>\n              <div className=\"flex items-center gap-2 text-muted-foreground mb-6\">\n                <MapPin className=\"w-5 h-5\" />\n                <p className=\"text-lg\">{property.address}</p>\n              </div>\n              <p className=\"text-4xl font-bold text-primary mb-8\">${property.price.toLocaleString()}</p>\n            </div>\n\n            {/* Features Grid */}\n            <div className=\"grid grid-cols-3 gap-6 mb-12 p-8 bg-card rounded-lg border border-border\">\n              {property.bedrooms && (\n                <div className=\"text-center\">\n                  <div className=\"flex items-center justify-center gap-2 mb-2\">\n                    <Bed className=\"w-6 h-6 text-primary\" />\n                  </div>\n                  <p className=\"text-2xl font-bold text-foreground\">{property.bedrooms}</p>\n                  <p className=\"text-muted-foreground text-sm\">Bedrooms</p>\n                </div>\n              )}\n              {property.bathrooms && (\n                <div className=\"text-center\">\n                  <div className=\"flex items-center justify-center gap-2 mb-2\">\n                    <Bath className=\"w-6 h-6 text-primary\" />\n                  </div>\n                  <p className=\"text-2xl font-bold text-foreground\">{property.bathrooms}</p>\n                  <p className=\"text-muted-foreground text-sm\">Bathrooms</p>\n                </div>\n              )}\n              {property.area && (\n                <div className=\"text-center\">\n                  <div className=\"flex items-center justify-center gap-2 mb-2\">\n                    <Ruler2 className=\"w-6 h-6 text-primary\" />\n                  </div>\n                  <p className=\"text-2xl font-bold text-foreground\">{property.area.toLocaleString()}</p>\n                  <p className=\"text-muted-foreground text-sm\">Sq Ft</p>\n                </div>\n              )}\n            </div>\n\n            {/* Description */}\n            {property.description && (\n              <div className=\"mb-12\">\n                <h2 className=\"text-2xl font-bold text-foreground mb-4\">About this property</h2>\n                <p className=\"text-muted-foreground text-lg leading-relaxed whitespace-pre-wrap\">\n                  {property.description}\n                </p>\n              </div>\n            )}\n\n            {/* Additional Images */}\n            {property.property_images && property.property_images.length > 1 && (\n              <div className=\"mb-12\">\n                <h2 className=\"text-2xl font-bold text-foreground mb-6\">More photos</h2>\n                <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                  {property.property_images.map((img) => (\n                    <div key={img.id} className=\"relative h-48 rounded-lg overflow-hidden bg-muted\">\n                      <Image\n                        src={img.blob_url || img.image_url || \"/placeholder.svg?height=200&width=200\"}\n                        alt={property.title}\n                        fill\n                        className=\"object-cover hover:scale-105 transition-transform duration-300\"\n                      />\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Contact Section */}\n          <div>\n            <div className=\"bg-card border border-border rounded-lg p-8 sticky top-8\">\n              <h3 className=\"text-xl font-bold text-foreground mb-6\">Interested in this property?</h3>\n              <InquiryForm propertyId={property.id} propertyTitle={property.title} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}